<style>
    .collapsible-body p {
        margin: 0;
        padding: 5px;
    }
</style>

<div class="row">
    <div class="z-depth-1  grey lighten-5" style="width:96.5%;position:fixed;top:70px;z-index:900;margin-left: 24px; margin-right: 24px">
        <div class="section grey lighten-5 " >
            <div class="col s5"><label>Period</label></div>
            <div class="col s5"><label>Geography</label></div>
            <div class="col s2">&nbsp;</div>
            <div class="input-field col s5 grey lighten-5">
                <select ng-model="selectedPeriod" ng-change="$root.firstClick1()">
                    <option value="2014">2014</option>
                    <!--<option value="2015">2015</option>-->
                </select>
            </div>
            <div class="input-field col s5 grey lighten-5">
                <multi-select-tree
                        data-input-model="data.orgUnitTree"
                        multi-select="true"
                        data-output-model="data.outOrganisationUnits"
                        data-default-label="Select Geography"
                        data-callback="selectOnly1Or2(item, selectedItems)">
                </multi-select-tree>
            </div>


            <div class="col s2 btn waves-effect waves-light" style="margin-top: 20px" ng-click="getSelectedValues()">Update</div>
        </div>
    </div>
</div>


<script>
    var orgUnits=[{"id":"YtVMnut7Foe","name":"Arusha Region"},{"id":"acZHYslyJLt","name":"Dar Es Salaam Region"},{"id":"Cpd5l15XxwA","name":"Dodoma Region"},{"id":"MAL4cfZoFhJ","name":"Geita Region"},{"id":"sWOWPBvwNY2","name":"Iringa Region"},{"id":"Crkg9BoUo5w","name":"Kagera Region"},{"id":"DWSo42hunXH","name":"Katavi Region"},{"id":"RD96nI1JXVV","name":"Kigoma Region"},{"id":"lnOyHhoLzre","name":"Kilimanjaro Region"},{"id":"VMgrQWSVIYn","name":"Lindi Region"},{"id":"qg5ySBw9X5l","name":"Manyara Region"},{"id":"vYT08q7Wo33","name":"Mara Region"},{"id":"A3b5mw8DJYC","name":"Mbeya Region"},{"id":"Sj50oz9EHvD","name":"Morogoro Region"},{"id":"bN5q5k5DgLA","name":"Mtwara Region"},{"id":"hAFRrgDK0fy","name":"Mwanza Region"},{"id":"qarQhOt2OEh","name":"Njombe Region"},{"id":"yyW17iCz9As","name":"Pwani Region"},{"id":"vAtZ8a924Lx","name":"Rukwa Region"},{"id":"ZYYX8Q9SGoV","name":"Ruvuma Region"},{"id":"EO3Ps3ny0Nr","name":"Shinyanga Region"},{"id":"IgTAEKMqKRe","name":"Simiyu Region"},{"id":"LGTVRhKSn1V","name":"Singida Region"},{"id":"kZ6RlMnt2bp","name":"Tabora Region"},{"id":"vU0Qt1A5IDz","name":"Tanga Region"}];
    var dropdown = "<select class='changeOrgUnit' ng-model='$root.selectedOrgUnit'  ng-change='$root.firstClick1()'>"
    dropdown += "<option value='m0frOspS7JY'>MOH Tanzania</option>"
    $.each(orgUnits,function(key,orgUnit){
        dropdown += "<option value='"+orgUnit.id+"'> "+orgUnit.name+"</option>";
    });
    dropdown += "</select>";
    $(".orgDropdown").html(dropdown);
    $('select').material_select();
</script>

<div class="row" >
    <div ng-include="'views/family_planning/fp_menu.html'"></div>

    <div class="col s12 m12 l10" style="margin-top: 82px">
        <div class="section">
            <!--Client Through Routine Facility-Based service-->
            <div class="col s12 m12" style="padding-left: 0px">
                <div class="card z-depth-2 teal lighten-5 large">
                    <div class="card-image waves-effect waves-block waves-light" style="overflow: scroll">
                        <div style="width: 100%">
                            <!--<highchart  config="chart"></highchart>-->
                            <div  ng-show="!displayTables.card1" id="chart" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
                        </div>
                        <div style="width: 100%"  ng-if="displayTables.card1">
                            <!--<p ng-if="fpCards[0].chartObject.loading" class="center"><img src="assets/img/loading.gif">Loading ....</p>-->
                            <h5 class="center">{{ chartObject.title.text }}</h5>
                            <table class="bordered striped centered" id="jinsi">
                                <thead>
                                <tr>
                                    <th></th>
                                    <th ng-repeat="column in chartObject.series">{{ column.name }}</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr data-ng-repeat="cats in chartObject.xAxis.categories">
                                    <td>{{ cats }}</td>
                                    <td ng-repeat="column in chartObject.series">{{ column.data[$parent.$index] }}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card-content">
                        <span class="card-title activator grey-text text-darken-4"><i class="material-icons mdi-action-info-outline right" style="font-size: 34px;color: #0059bc"></i></span>
                        <p>
                            <a ng-click="changeTable('card1','table')"  title="Table" class="waves-effect waves-light btn teal darken-2" >Table</a>
                            <a ng-click="changeTable('card1','chart')"  title="Chart" class="waves-effect waves-light btn teal darken-2" >Chart</a>
                            <button class="waves-effect waves-light btn teal darken-2" ng-csv="csvdata" csv-label="true" filename="data.csv" field-separator="," decimal-separator=".">CSV</button>

                        </p>
                    </div>
                    <div class="card-reveal">
                        <span class="card-title grey-text text-darken-4"><i class="material-icons right">close</i></span>
                        <p class="flow-text"><b>Description:</b> View percent of clients who adopted FP after MVA or D+C for miscarriage or abortion</p>
                        <p class="flow-text"><b>Indicator Type:</b> Percent</p>
                        <p class="flow-text"> <b>Numerator:</b> The Number of new and returning clients that received each family planning method (Jadelle, Implanon, other) following FP after MVA or D+C for miscarriage or abortion
                            a given facility among
                            facilities given the FP Reporting Template in
                            selected geographies in the given month and for each month in the preceding 12-month period</p>
                        <p class="flow-text"> <b>Denominator:</b>  The Number of new and returning clients that received MVA or D+C for miscarriage or abortion
                             a given facility among
                            facilities given the FP Reporting Template in
                            selected geographies in the given month and for each month in the preceding 12-month period

                        </p>
                        <p class="flow-text"><b>Data Source:</b> HMIS Data warehouse</p>
                    </div>
                </div>
            </div>

            <!--Client Through Routine Facility-Based service-->
            <div class="col s12 m12" style="padding-left: 0px">
                <div class="card z-depth-2 teal lighten-5 large">
                    <div class="card-image waves-effect waves-block waves-light" style="overflow: scroll">
                        <div style="width: 100%">
                            <!--<highchart config="chart2"></highchart>-->
                            <div ng-show="!displayTables.card2" id="chart2" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
                        </div>
                        <div style="width: 100%"  ng-if="displayTables.card2">
                            <!--<p ng-if="fpCards[0].chartObject.loading" class="center"><img src="assets/img/loading.gif">Loading ....</p>-->
                            <h5 class="center">{{ chartObject2.title.text }}</h5>
                            <table class="bordered striped centered" id="jinsi">
                                <thead>
                                <tr>
                                    <th></th>
                                    <th ng-repeat="column in chartObject1.series">{{ column.name }}</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr data-ng-repeat="cats in chartObject1.xAxis.categories">
                                    <td>{{ cats }}</td>
                                    <td ng-repeat="column in chartObject1.series">{{ column.data[$parent.$index] }}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card-content">
                        <span class="card-title activator grey-text text-darken-4"><i class="material-icons mdi-action-info-outline right" style="font-size: 34px;color: #0059bc"></i></span>
                        <p>
                            <a ng-click="changeTable('card2','table')"  title="Table" class="waves-effect waves-light btn teal darken-2" >Table</a>
                            <a ng-click="changeTable('card2','chart')"  title="Chart" class="waves-effect waves-light btn teal darken-2" >Chart</a>
                            <button class="waves-effect waves-light btn teal darken-2" ng-csv="csvdata1" csv-label="true" filename="data.csv" field-separator="," decimal-separator=".">CSV</button>

                        </p>
                    </div>
                    <div class="card-reveal">
                        <span class="card-title grey-text text-darken-4"><i class="material-icons right">close</i></span>
                        <p class="flow-text"><b>Description</b> View number of clients adopting FP within 42 days of delivery</p>
                        <p class="flow-text"><b>Indicator Type:</b> Number</p>
                        <p class="flow-text"> <b>Numerator:</b>  Number of clients receiving each family planning method (Jadelle, Implanon, other) within 42 days of delivery
                            in a given facility
                            among facilities given the FP Reporting Template
                            in the selected geographies for each month in the 12-month period</p>
                        <p class="flow-text"> <b>Denominator:</b> 1</p>
                        <p class="flow-text"><b>Data Source:</b> HMIS Data warehouse</p>
                    </div>
                </div>
            </div>

            <div class="col s12 m12" style="padding-left: 0px">
                <div class="card z-depth-2 teal lighten-5 large">
                    <div class="card-image waves-effect waves-block waves-light" style="overflow: scroll">
                        <div style="width: 100%">
                            <!--<highchart config="chart3"></highchart>-->
                            <div  ng-show="!displayTables.card3" id="chart3" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
                        </div>
                        <div style="width: 100%"  ng-if="displayTables.card3">
                            <!--<p ng-if="fpCards[0].chartObject.loading" class="center"><img src="assets/img/loading.gif">Loading ....</p>-->
                            <h5 class="center">{{ chartObject2.title.text }}</h5>
                            <table class="bordered striped centered" id="jinsi">
                                <thead>
                                <tr>
                                    <th></th>
                                    <th ng-repeat="column in chartObject2.series">{{ column.name }}</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr data-ng-repeat="cats in chartObject2.xAxis.categories">
                                    <td>{{ cats }}</td>
                                    <td ng-repeat="column in chartObject2.series">{{ column.data[$parent.$index] }}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card-content">
                        <span class="card-title activator grey-text text-darken-4"><i class="material-icons mdi-action-info-outline right" style="font-size: 34px;color: #0059bc"></i></span>
                        <p>
                            <a ng-click="changeTable('card3','table')"  title="Table" class="waves-effect waves-light btn teal darken-2" >Table</a>
                            <a ng-click="changeTable('card3','chart')"  title="Chart" class="waves-effect waves-light btn teal darken-2" >Chart</a>
                            <button class="waves-effect waves-light btn teal darken-2" ng-csv="csvdata2" csv-label="true" filename="data.csv" field-separator="," decimal-separator=".">CSV</button>

                        </p>
                    </div>
                    <div class="card-reveal">
                        <span class="card-title grey-text text-darken-4"><i class="material-icons right">close</i></span>
                        <p class="flow-text"><b>Description</b> View proportion of HIV negative/status unknown FP clients adopting HTC</p>
                        <p class="flow-text"><b>Indicator Type:</b> Percent</p>
                        <p class="flow-text"> <b>Numerator:</b> Total number of FP clients tested for HIV (all age groups combined)
                            in a given facility
                            among facilities given the FP Reporting Template
                            in selected geographies for each month in the preceding 12-month period</p>
                        <p class="flow-text"> <b>Denominator:</b> Total clients receiving any FP method (male condoms, female condoms, pill, injectables, implants insertion, implant removal, IUCD insertion, IUCD removal, minilap, NSV) through routine facility-based service in a given facility in a given month (all age groups combined)<br><br>
                            minus
                            <br><br>
                            Total FP clients who are known to be positive for HIV (all age groups combined)
                            in a given facility
                            among facilities given the FP Reporting Template
                            in selected geographies for each month in the preceding 12-month period
                        </p>
                        <p class="flow-text"><b>Data Source:</b> HMIS Data warehouse</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>